"use strict";function del(t,e){return dialog.confirm(e,function(){location.href=$(t).attr("href")}),!1}function lang(t){return window.language&&window.language[t]?window.language[t]:t}function randomString(t,e){for(var n="",i=(e=e||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length,o=0;o<t;o++){var a=Math.floor(Math.random()*i);n+=e.substring(a,a+1)}return n}function copy_obj(t){return JSON.parse(JSON.stringify(t))}function isObjectValueEqual(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;var n=Object.getOwnPropertyNames(t),i=Object.getOwnPropertyNames(e);if(n.length!=i.length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(t[a]!==e[a])return!1}return!0}function array_combine(t,e){for(var n={},i=0;i<t.length&&!(e.length<i+1);i++)n[t[i]]=e[i];return n}function tostring(t){return t&&t.toString?t.toString():""}function callfunc(t,e,n,i){if(n){"string"==typeof n&&(n=n.split(","));var o=n.indexOf("###");0<=o?n[o]=t:n=[t].concat(n)}else n=[t];return window[e]?window[e].apply(i,n):null==t?"":t}function html_encode(t){if(!t)return t;var e=document.createElement("div");null!=e.textContent?e.textContent=t:e.innerText=t;var n=e.innerHTML;return e=null,n}function html_decode(t){if(!t)return t;var e=document.createElement("div");e.innerHTML=t;var n=e.innerText||e.textContent;return e=null,n}function pad_zero(t,e){return(t+="").length<e?new Array(++e-t.length).join("0")+t:t}function timestamp_date(t,e){if(!t)return"";var o=new Date(1e3*t),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},a=["","January","February","March","April","May","June","July","August","September","October","November","December"],s={d:function(){return pad_zero(s.j(),2)},D:function(){return s.l().substr(0,3)},j:function(){return o.getDate()},l:function(){return n[s.w()]},N:function(){return s.w()+1},S:function(){return i[s.j()]?i[s.j()]:"th"},w:function(){return o.getDay()},z:function(){return(o-new Date(o.getFullYear()+"/1/1"))/864e5>>0},W:function(){var t,e=s.z(),n=364+s.L()-e,i=(new Date(o.getFullYear()+"/1/1").getDay()||7)-1;return n<=2&&(o.getDay()||7)-1<=2-n?1:e<=2&&4<=i&&6-i<=e?(t=new Date(o.getFullYear()-1+"/12/31"),timestamp_date(Math.round(t.getTime()/1e3),"W")):1+(i<=3?(e+i)/7:(e-(7-i))/7)>>0},F:function(){return a[s.n()]},m:function(){return pad_zero(s.n(),2)},M:function(){return s.F().substr(0,3)},n:function(){return o.getMonth()+1},t:function(){var t;return 2==(t=o.getMonth()+1)?28+s.L():1&t&&t<8||!(1&t)&&7<t?31:30},L:function(){var t=s.Y();return 3&t||!(t%100)&&t%400?0:1},Y:function(){return o.getFullYear()},y:function(){return(o.getFullYear()+"").slice(2)},a:function(){return 11<o.getHours()?"pm":"am"},A:function(){return s.a().toUpperCase()},B:function(){var t=60*(o.getTimezoneOffset()+60),e=3600*o.getHours()+60*o.getMinutes()+o.getSeconds()+t,n=Math.floor(e/86.4);return 1e3<n&&(n-=1e3),n<0&&(n+=1e3),1==String(n).length&&(n="00"+n),2==String(n).length&&(n="0"+n),n},g:function(){return o.getHours()%12||12},G:function(){return o.getHours()},h:function(){return pad_zero(s.g(),2)},H:function(){return pad_zero(o.getHours(),2)},i:function(){return pad_zero(o.getMinutes(),2)},s:function(){return pad_zero(o.getSeconds(),2)},O:function(){var t=pad_zero(Math.abs(o.getTimezoneOffset()/60*100),4);return t=0<o.getTimezoneOffset()?"-"+t:"+"+t},P:function(){var t=s.O();return t.substr(0,3)+":"+t.substr(3,2)},c:function(){return s.Y()+"-"+s.m()+"-"+s.d()+"T"+s.h()+":"+s.i()+":"+s.s()+s.P()},U:function(){return Math.round(o.getTime()/1e3)}};return(e=e||"Y-m-d H:i:s").replace(/[\\]?([a-zA-Z])/g,function(t,e){return t==e&&s[e]?s[e]():e})}function iif(t,e,n){return"0"===t&&(t=0),t?e:n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function transOption(t){if(!t)return{};var e={};for(var n in t)switch(n){case"viewmode":e.viewMode=t[n];break;case"keepopen":e.keepOpen=t[n];break;default:e[n]=t[n]}return e}if(Number.prototype.format=function(t){void 0===t&&(t=2);for(var e=this.toFixed(t).split("."),n=[],i=e[0].split(""),o=i.length,a=0;a<o;a++)0<a&&a%3==0&&n.unshift(","),n.unshift(i[o-a-1]);return n.join("")+(2==e.length?"."+e[1]:"")},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s+|\s+$)/g,"")}),String.prototype.compile=function(r,t){if(t){var e=[];for(var n in r)e.push(this.compile(r[n]));return e.join("\n")}return this.replace(/\{if\s+([^\}]+)\}([\W\w]*?){\/if}/g,function(t,e,n){var i,o=n.split("{else}");if(i=e.match(/\s+(=+|<|>)\s+/)){i=i[0];var a=e.split(i);0===a[0].indexOf("@")&&(a[0]=r[a[0].replace("@","")]),0===a[1].indexOf("@")&&(a[1]=r[a[1].replace("@","")]);var s=!1;switch(i=i.trim()){case"==":s=a[0]==a[1];break;case"===":s=a[0]===a[1];break;case">":s=a[0]>a[1];break;case"<":s=a[0]<a[1]}if(s)return n;if(o[1])return o[1]}else{if(r[e.replace("@","")])return o[0];if(o[1])return o[1]}return""}).replace(/\{@([\w\d\.]+)(?:\|([\w\d]+)(?:\s*=\s*([^\}]+))?)?\}/g,function(t,e,n,i){if(0<e.indexOf(".")){for(var o=e.split("."),a=r,s=0;s<o.length;s++){if(void 0===a[o[s]]||null===a[o[s]]){a="";break}a=a[o[s]]}return callfunc(a,n,i)}return callfunc(r[e],n,i,r)})},window.default=function(t,e){return t||e},function(o,m){var s='<div class="modal fade" id="{@id}" {if tabindex}tabindex="{@tabindex}"{/if} role="dialog" aria-labelledby="{@id}Label" aria-hidden="true">\n    <div class="modal-dialog {@size}">\n        <div class="modal-content {@contentClass}">\n            <div class="modal-header">\n                <h4 class="modal-title" id="{@id}Label">{@title}</h4>\n                <button type="button" class="close" data-dismiss="modal">\n                    <span aria-hidden="true">&times;</span>\n                    <span class="sr-only">Close</span>\n                </button>\n            </div>\n            <div class="modal-body {@bodyClass}">\n            </div>\n            <div class="modal-footer">\n                <nav class="nav nav-fill"></nav>\n            </div>\n        </div>\n    </div>\n</div>',a=0;function r(t,e){return _typeof(t)===_typeof("a")&&(t={text:t,isdefault:!!e}),t.isdefault&&(t.type||(t.type="primary")),t}function v(t){if((t=t||{}).btns)if("string"==typeof t.btns)t.btns=[r(t.btns,!0)];else if(t.btns instanceof Array)for(var e=0;e<t.btns.length;e++)t.btns[e]=r(t.btns[e]);else console.error("Dialog::construct argument btns error."),t.btns=[];this.options=m.extend({id:"modal_dialog_"+a++,header:!0,footer:!0,backdrop:!0,tabindex:-1,size:"",btns:[{text:"取消",type:"secondary"},{text:"确定",isdefault:!0,type:"primary"}],contentClass:"",onsure:null,onshow:null,onshown:null,onhide:null,onhidden:null},t),this.options.btns||(this.options.btns=[]);var n=this.options.btns.length;if(t.addbtn&&(this.options.btns||(this.options.btns=[]),t.addbtn=r(t.addbtn),n<1?this.options.btns.unshift(t.addbtn):this.options.btns.splice(n-1,0,t.addbtn),n=1),t.addbtns){if(this.options.btns||(this.options.btns=[]),n<1)this.options.btns=t.addbtns;else{var i=[n-1,0];for(e=0;e<t.addbtns.length;e++)i.push(r(t.addbtns[e]));this.options.btns.splice.apply(this.options.btns,i)}n=1}n<1&&(this.options.footer=!1),this.closed=!0,this.box=m(this.options.id)}v.prototype.generBtn=function(t,e){return t.type&&(t.class="btn-outline-"+t.type),'<a href="javascript:" class="nav-item btn '+(t.class?t.class:"btn-outline-secondary")+'" '+(t.isdefault?"default":"")+' data-index="'+e+'">'+t.text+"</a>"},v.prototype.getDefaultBtn=function(){for(var t=null,e=0;e<this.options.btns.length&&!(t=this.options.btns[e]).isdefault;e++);return t},v.prototype.show=function(t,e){this.box=m("#"+this.options.id),e=e||"系统提示",this.box.length<1?(m(document.body).append(s.compile({id:this.options.id,bodyClass:this.options.bodyClass,contentClass:this.options.contentClass,tabindex:this.options.tabindex,size:this.options.size?"modal-"+this.options.size:"",title:e})),this.box=m("#"+this.options.id)):(this.box.unbind(),this.box.find(".modal-title").text(e)),this.options.header||this.box.find(".modal-header").remove(),this.options.footer||this.box.find(".modal-footer").remove(),!0!==this.options.backdrop&&(this.box.data("backdrop",this.options.backdrop),!1===this.options.backdrop&&this.box.css({height:0,overflow:"visible"})),this.options.keyboard||this.box.data("keyboard",!1);var n=this;v.instance=n;for(var i=[],o=0;o<this.options.btns.length;o++)i.push(this.generBtn(this.options.btns[o],o));this.box.find(".modal-footer .nav").html(i.join("\n"));var a=this.box.find(".modal-body");return a.html(t),this.box.on("hide.bs.modal",function(){n.options.onhide&&n.options.onhide(a,n.box),v.instance=null}),this.box.on("hidden.bs.modal",function(){n.options.onhidden&&n.options.onhidden(a,n.box),n.closed=!0,n.box.remove(),n.box=null}),this.box.on("show.bs.modal",function(){n.options.onshow&&n.options.onshow(a,n.box)}),this.box.on("shown.bs.modal",function(){if(n.box&&n.closed)return n.box.modal("hide");n.options.onshown&&n.options.onshown(a,n.box)}),this.options.footer&&this.box.find(".modal-footer .btn").click(function(){var t=!0,e=m(this).data("index");n.options.btns[e].click?t=n.options.btns[e].click.apply(this,[a,n.box]):n.options.btns[e].isdefault&&n.options.onsure&&(t=n.options.onsure.apply(this,[a,n.box])),!1!==t&&n.box.modal("hide")}),this.closed=!1,this.box.modal("show"),this},v.prototype.hide=v.prototype.close=function(){return this.box&&!this.closed&&(this.closed=!0,this.box.modal("hide")),this};var c={error:function(t,e){return this.message(t,"error",e)},success:function(t,e){return this.message(t,"success",e)},warning:function(t,e){return this.message(t,"warning",e)},info:function(t,e){return this.message(t,"info",e)},loading:function(t,e){return this.message(t||"加载中...","loading",e)},message:function(t,e,n){var i="bg-info text-white",o="information-circle";if(e)switch(e){case"danger":case"error":o="close-circle",i="bg-danger text-white";break;case"warning":o="warning",i="bg-warning text-white";break;case"loading":o='<div class="spinner-border text-light" role="status">\n  <span class="sr-only">Loading...</span>\n</div>',i="bg-info text-white",n=n||10;break;case"success":o="checkmark-circle",i="bg-success text-white"}"loading"!=e&&(o='<i class="ion-md-'+o+'"></i>');var a='<div class="dialog-message" >'+o+"&nbsp;&nbsp;"+t+("loading"==e?"":'<a href="javascript:" class="ion-md-close closebtn"></a>')+"</div>",s=new v({footer:!1,header:!1,backdrop:!1,tabindex:"",size:"sm",contentClass:i,onshow:function(t){t.find(".closebtn").click(function(){s.close()})}}).show(a,"");return n=n||2,setTimeout(function(){s.close()},1e3*n),s},alert:function(t,e,n){var i=!1,o="function"==typeof e,a="",s="sm",r="";if(void 0===e||o||(n=e),m.isPlainObject(t)){if(t.title&&(a=t.title),void 0!==t.size&&(s=t.size),void 0===t.content)throw"message.content can not be empty.";t=t.content}var l={success:"checkmark-circle",info:"information-circle",warning:"alert",error:"remove-circle"},c="primary";return void 0===n?n="information-circle":l[n]&&(c="error"==n?"danger":n,n=l[n]),r=n?"none"==n?'<div class="container-fluid">{@message}</div>'.compile({message:t}):'<div class="row" style="align-items: center;"><div class="col-3 text-right"><i class="ion-md-{@icon} text-{@color}" style="font-size:3em;"></i> </div><div class="col-9" >{@message}</div> </div>'.compile({message:t,icon:n,color:c}):t,new v({btns:"确定",size:s,header:!!a,onsure:function(){if(o)return e(i=!0)},onhide:function(){!i&&o&&e(!1)}}).show(r,a)},confirm:function(t,e,n,i,o){var a=!1;"function"!=typeof e?(i=e,"function"==typeof n?(e=n,n=null):o=n):"function"!=typeof n&&(o=i,i=n),"number"==typeof i&&(o=i,i=void 0);var s="",r="sm";if(m.isPlainObject(t)){if(t.title&&(s=t.title),void 0!==t.size&&(r=t.size),void 0!==t.btns&&t.btns,void 0===t.content)throw"message.content can not be empty.";t=t.content}var l={success:"checkmark-circle",info:"information-circle",warning:"alert",error:"remove-circle"},c="primary";void 0===i?i="information-circle":l[i]&&(c="error"===i?"danger":i,i=l[i]);var d="none"==i?'<div class="container-fluid">{@message}</div>'.compile({message:t}):'<div class="row" style="align-items: center;"><div class="col-3 text-right"><i class="ion-md-{@icon} text-{@color}" style="font-size:3em;"></i> </div><div class="col-9" >{@message}</div> </div>'.compile({message:t,icon:i,color:c}),u=0,p=new v({header:!!s,size:r,backdrop:"static",onsure:function(){if(e&&"function"==typeof e)return a=!0,e()},onhide:function(){if(clearInterval(u),!1===a&&"function"==typeof n)return n()}}).show(d,s);if(o&&"number"==typeof o){var f=p.box.find(".modal-footer .btn-outline-primary"),h=p.getDefaultBtn().text;f.addClass("disabled").text(h+"("+o+")"),u=setInterval(function(){0<--o?f.text(h+"("+o+")"):(f.text(h),f.removeClass("disabled"),clearInterval(u))},1e3)}return p},prompt:function(e,o){var t='<div class="form-group">{@input}</div>',n="请输入信息",a=!1,i=!1,s={},r=!0;"string"==typeof e?n=e:(n=e.title,e.content&&(t=-1<e.content.indexOf("{@input}")?e.content:e.content+t),e.multi&&(a=!0,s=e.multi),e.is_textarea&&(i=!0),void 0!==e.keyboard?r=e.keyboard:i&&(r=!1));var l='<input type="text" name="confirm_input" class="form-control" />';if(i&&(l='<textarea name="confirm_input" class="form-control" ></textarea>'),a)for(var c in l="",s){var d=s[c],u="",p=!1;"object"===_typeof(d)&&(u=d.value?d.value:"",p=d.is_textarea?d.is_textarea:i,d=d.label?d.label:d.title?d.title:c),l+=p?'<div class="input-group mt-2"><div class="input-group-prepend"><span class="input-group-text">'+d+'</span></div><textarea name="confirm_input" data-key="'+c+'" class="form-control" >'+u+"</textarea></div>":'<div class="input-group mt-2"><div class="input-group-prepend"><span class="input-group-text">'+d+'</span></div><input type="text" data-key="'+c+'" name="confirm_input" value="'+u+'" class="form-control" /></div>'}return new v({backdrop:"static",keyboard:r,onshow:function(t){e&&e.onshow&&e.onshow(t)},onshown:function(t){t.find("[name=confirm_input]").eq(0).select(),e&&e.onshown&&e.onshown(t)},onsure:function(t){var e=t.find("[name=confirm_input]"),n=e.val();if(a&&(n={},e.each(function(){var t=m(this).data("key");n[t]=m(this).val()})),"function"==typeof o){var i=o(n,t);return!0===i&&0,i}},onhide:function(){!1}}).show(t.compile({input:l}),n)},action:function(t,n,e){var i='<div class="list-group"  style="max-height: 70vh;overflow: auto;"><a href="javascript:" class="list-group-item list-group-item-action">'+t.join('</a><a href="javascript:" class="list-group-item list-group-item-action">')+"</a></div>",o=null,a=new v({bodyClass:"modal-action",backdrop:"static",size:"sm",btns:[{text:"取消",type:"secondary"}],onshow:function(t){(o=t.find(".list-group-item-action")).click(function(t){o.removeClass("active"),m(this).addClass("active");var e=o.index(this);"function"==typeof n&&!1===n(e)||a.close()})},onsure:function(){return!0},onhide:function(){return!0}}).show(i,e||"请选择")},pickList:function(s,t,r){"string"==typeof s&&(s={url:s}),"[object Array]"==Object.prototype.toString.call(s)&&(s={isajax:!1,list:s});var e=s.icon?'<i class="ion-md-checkmark"></i> ':"";s=m.extend({url:"",title:"",isajax:!0,list:[],name:"项目",searchHolder:"根据名称搜索",idkey:"id",titlekey:"title",onRow:null,extend:null,rowTemplate:'<a href="javascript:" data-id="{@id}" class="list-group-item list-group-item-action" style="line-height:30px;">'+e+"[{@id}]&nbsp;{@title}</a>"},s||{});var l=null,n="";s.extend&&(n='<select name="'+s.extend.name+'" class="form-control"><option value="">'+s.extend.title+"</option></select>"),r=r||{};var i="请选择"+s.name,o='<div class="list-group list-group-picker mt-2" style="max-height:500px;overflow: auto;"></div>';return s.isajax&&(i="请搜索并选择"+s.name,o='<div class="input-group">'+n+'<input type="text" class="form-control searchtext" name="keyword" placeholder="'+s.searchHolder+'"/><div class="input-group-append"><a class="btn btn-outline-secondary searchbtn"><i class="ion-md-search"></i></a></div></div>'+o),s.title||(s.title=i),new v({backdrop:"static",onshown:function(t){var e=t.find(".searchbtn"),n=t.find(".searchtext"),i=t.find(".list-group"),o=!1;if(i.on("click","a.list-group-item",function(){for(var t=m(this).data("id"),e=0;e<s.list.length;e++)if(s.list[e][s.idkey]==t){l=s.list[e],i.find("a.list-group-item").removeClass("active"),m(this).addClass("active");break}}),s.isajax){var a=null;s.extend&&(a=t.find("[name="+s.extend.name+"]"),s.extend.list?a.append(s.extend.htmlRow.compile(s.extend.list,!0)):m.ajax({url:s.extend.url,type:"GET",dataType:"JSON",success:function(t){a.append(s.extend.htmlRow.compile(t.data,!0))}})),e.click(function(){o||(o=!0,i.html('<span class="list-loading">加载中...</span>'),r.key=n.val(),s.extend&&(r[s.extend.name]=a.val()),m.ajax({url:s.url,type:"GET",dataType:"JSON",data:r,success:function(t){o=!1,1===t.code?t.data&&t.data.length?(s.list=t.data,i.html(s.rowTemplate.compile(t.data,!0))):i.html('<span class="list-loading"><i class="ion-md-warning"></i> 没有检索到'+s.name+"</span>"):i.html('<span class="text-danger"><i class="ion-md-warning"></i> 加载失败</span>')}}))}).trigger("click")}else i.html(s.rowTemplate.compile(s.list,!0))},onsure:function(){return l?"function"==typeof t?t(l):void 0:(c.warning("没有选择"+s.name+"!"),!1)}}).show(o,s.title)},pickUser:function(t,e,n){return"object"!=_typeof(e)||n||(n=e,e=null),this.pickList({url:o.get_search_url("member"),title:e,name:"会员",searchHolder:"根据会员id或名称，电话来搜索",rowTemplate:'<a href="javascript:" data-id="{@id}" class="list-group-item list-group-item-action" style="line-height:30px;">{if @avatar}<img src="{@avatar}" style="width:30px;height:30px;border-radius: 100%;margin-right:10px;" />{else}<i class="ion-md-person"></i>{/if} [{@id}]&nbsp;{if @nickname}{@nickname}{else}{@username}{/if}&nbsp;&nbsp;&nbsp;{if @mobile}<small><i class="ion-md-phone-portrait"></i> {@mobile}</small>{/if}</a>'},t,n)},pickArticle:function(t,e,n){return"object"!=_typeof(e)||n||(n=e,e=null),this.pickList({url:o.get_search_url("article"),rowTemplate:'<a href="javascript:" data-id="{@id}" class="list-group-item list-group-item-action">{if @cover}<div style="background-image:url({@cover})" class="imgview" ></div>{/if}<div class="text-block">[{@id}]&nbsp;{@title}&nbsp;<br />{@description}</div></a>',title:e,name:"文章",idkey:"id",extend:{name:"cate",title:"按分类搜索",url:get_cate_url("article"),htmlRow:'<option value="{@id}">{@html}{@title}</option>'},searchHolder:"根据文章标题搜索"},t,n)},pickProduct:function(t,e,n){"object"!=_typeof(e)||n||(n=e,e=null);var i='<div class="text-block">[{@id}]&nbsp;{@title}&nbsp;<br />{@min_price}{if @max_price>@min_price}~{@max_price}{/if}</div>';return n&&n.searchtype&&(i='<div class="text-block">[{@id}]&nbsp;{@title}&nbsp;<br />[{@sku_goods_no}]&nbsp;{@price}</div>'),this.pickList({url:o.get_search_url("product"),rowTemplate:'<a href="javascript:" data-id="{@id}" class="list-group-item list-group-item-action">{if @image}<div style="background-image:url({@image})" class="imgview" ></div>{/if}'+i+"</a>",title:e,name:"产品",idkey:"id",extend:{name:"cate",title:"按分类搜索",url:get_cate_url("product"),htmlRow:'<option value="{@id}">{@html}{@title}</option>'},searchHolder:"根据产品名称搜索"},t,n)},pickLocate:function(t,e,s){var r=null,n=.6*m(o).height();return new v({size:"lg",backdrop:"static",onshown:function(t){var n=t.find(".searchbtn"),i=t.find(".searchtext"),o=t.find(".map"),a=t.find(".mapinfo");setTimeout(function(){var e=InitMap("tencent",o,function(t,e){a.html(t+"&nbsp;"+e.lng+","+e.lat),r=e},s);n.click(function(){var t=i.val();e.setLocate(t)}),t.find(".setToCenter").click(function(t){e.showAtCenter()})},500)},onsure:function(){return r?"function"==typeof e?e(r):void 0:(c.warning("没有选择位置!"),!1)}}).show('<div class="input-group"><input type="text" class="form-control searchtext" name="keyword" placeholder="填写地址检索位置"/><div class="input-group-append"><a class="btn btn-outline-secondary searchbtn"><i class="ion-md-search"></i></a></div></div><div class="map mt-2" style="height:'+n+'px"></div><div class="float-right mt-2 mapactions"><a href="javascript:" class="setToCenter">定位到地图中心</a></div><div class="mapinfo mt-2 text-muted">未选择位置</div>',"请选择地图位置")}};o.Dialog=m.Dialog=v,o.dialog=m.dialog=c}(window,jQuery||Zepto),jQuery.extend(jQuery.fn,{tags:function(t,o){var a=[],s='<span class="badge badge-info">{@label}<input type="hidden" name="'+t+'" value="{@label}"/><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></span>',e=$(this).parents(".form-control"),r=$('<span class="badge-group"></span>'),l=this;this.before(r),this.on("keyup",function(){var t=$(this).val().replace(/，/g,","),e=!1;if(t&&-1<t.indexOf(",")){for(var n=t.split(","),i=0;i<n.length;i++)n[i]=n[i].replace(/^\s|\s$/g,""),n[i]&&-1===a.indexOf(n[i])&&(a.push(n[i]),r.append(s.compile({label:n[i]})),e=!0);l.val(""),e&&o&&o(a)}}).on("blur",function(){var t=$(this).val();t&&$(this).val(t+",").trigger("keyup")}).trigger("blur"),r.on("click",".close",function(){var t=$(this).parents(".badge").find("input").val(),e=a.indexOf(t);e&&a.splice(e,1),$(this).parents(".badge").remove(),o&&o(a)}),e.click(function(){l.focus()})}}),$.fn.datetimepicker){var tooltips={today:"定位当前日期",clear:"清除已选日期",close:"关闭选择器",selectMonth:"选择月份",prevMonth:"上个月",nextMonth:"下个月",selectYear:"选择年份",prevYear:"上一年",nextYear:"下一年",selectDecade:"选择年份区间",selectTime:"选择时间",prevDecade:"上一区间",nextDecade:"下一区间",prevCentury:"上个世纪",nextCentury:"下个世纪"};$(".datepicker").each(function(){var t=$.extend({tooltips:tooltips,format:"YYYY-MM-DD",locale:"zh-cn",showClear:!0,showTodayButton:!0,showClose:!0,keepInvalid:!0},transOption($(this).data()));$(this).datetimepicker(t)}),$(".date-range").each(function(){var t=$(this).find("[name=fromdate],.fromdate"),e=$(this).find("[name=todate],.todate"),n=$.extend({tooltips:tooltips,format:"YYYY-MM-DD",locale:"zh-cn",showClear:!0,showTodayButton:!0,showClose:!0,keepInvalid:!0},$(this).data());t.datetimepicker(n).on("dp.change",function(){t.val()&&e.data("DateTimePicker").minDate(t.val())}),e.datetimepicker(n).on("dp.change",function(){e.val()&&t.data("DateTimePicker").maxDate(e.val())})})}function setNav(t){for(var e=$(".main-nav .nav-item"),n=!1,i=0;i<e.length;i++)if(e.eq(i).data("model")===t){e.eq(i).addClass("active"),n=!0;break}!n&&0<t.indexOf("-")&&setNav(t=t.substr(0,t.lastIndexOf("-")))}jQuery(function(i){991<=i(window).width()?i(".main-nav>.dropdown").hover(function(){i(this).find(".dropdown-menu").stop(!0,!1).slideDown()},function(){i(this).find(".dropdown-menu").stop(!0,!1).slideUp()}):i(".main-nav>.dropdown>.dropdown-toggle").click(function(t){t.preventDefault(),t.stopPropagation();var e=i(this).data("opened"),n=i(this).parents(".dropdown");e?n.find(".dropdown-menu").stop(!0,!1).slideUp():(n.siblings().children(".dropdown-menu").stop(!0,!1).slideUp(),n.siblings().children(".dropdown-toggle").data("opened",!1),n.find(".dropdown-menu").stop(!0,!1).slideDown()),i(this).data("opened",!e)})});
//# sourceMappingURL=init.min.js.map
